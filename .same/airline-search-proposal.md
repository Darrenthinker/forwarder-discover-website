# ✈️ 航空公司搜索功能方案

## 🎯 功能概览

在现有机场搜索界面中添加航空公司搜索功能，通过标签页切换实现双重搜索体验。

## 📋 方案详情

### 🔧 技术可行性分析
- **实现难度**: ⭐⭐☆☆☆ (简单)
- **开发时间**: 2-3小时
- **兼容性**: 100% 兼容现有界面
- **影响范围**: 仅新增功能，不影响现有功能

### 🎨 UI设计方案

#### 1. 界面结构
```
┌─────────────────────────────────────────┐
│ 搜索框: "日本"                           │
├─────────────────────────────────────────┤
│ ┌─────────────┬─────────────────────────┐ │
│ │🛩️ 机场搜索   │  ✈️ 航空公司            │ │ <- 标签页切换
│ └─────────────┴─────────────────────────┘ │
├─────────────────────────────────────────┤
│ 日本 • 找到33/33 个机场                  │ <- 统计信息
├─────────────────────────────────────────┤
│ 🟢 NRT  东京成田  Narita International   │ <- 搜索结果
│ 🟢 HND  东京羽田  Tokyo Haneda Airport   │
│ 🟢 KIX  大阪关西  Kansai International   │
└─────────────────────────────────────────┘
```

#### 2. 航空公司显示格式
```
┌─────────────────────────────────────────┐
│ ✈️ 航空公司 标签页激活时:                │
├─────────────────────────────────────────┤
│ 日本 • 找到12 家航空公司                 │
├─────────────────────────────────────────┤
│ 🔴 JL  日本航空    Japan Airlines       │
│    日本 JP · 全服务航空公司 · 寰宇一家   │
├─────────────────────────────────────────┤
│ 🔵 NH  全日空      All Nippon Airways   │
│    日本 JP · 全服务航空公司 · 星空联盟   │
├─────────────────────────────────────────┤
│ 🟠 MM  乐桃航空    Peach Aviation       │
│    日本 JP · 低成本航空公司              │
└─────────────────────────────────────────┘
```

### 🎨 颜色标识系统
- 🔴 **红色**: 全服务航空公司 (FSC)
- 🟠 **橙色**: 低成本航空公司 (LCC)
- 🟢 **绿色**: 区域航空公司
- 🔵 **蓝色**: 货运航空公司
- 🟣 **紫色**: 包机航空公司

### 📊 数据结构设计

```typescript
interface Airline {
  code: string;        // 航空公司代码 (JL, NH)
  icao: string;        // ICAO代码 (JAL, ANA)
  name: {
    chinese: string;   // 中文名称
    english: string;   // 英文名称
  };
  country: string;     // 国家代码
  type: 'FSC' | 'LCC' | 'Regional' | 'Cargo' | 'Charter';
  alliance?: 'Star Alliance' | 'Oneworld' | 'SkyTeam';
  hub: string[];       // 主要枢纽机场
  active: boolean;     // 是否仍在运营
}
```

### 🔧 实现步骤

#### 阶段1: 数据准备 (1小时)
1. 创建航空公司数据库文件
2. 按国家分类组织数据
3. 添加中英文名称、类型、联盟信息
4. 参考 planespotters.net 数据源

#### 阶段2: UI改造 (1小时)
1. 在 `airport-search.tsx` 中添加标签页组件
2. 修改搜索结果显示逻辑
3. 添加航空公司搜索结果模板
4. 实现切换动画效果

#### 阶段3: 逻辑集成 (1小时)
1. 添加航空公司搜索函数
2. 集成到现有搜索系统
3. 实现国家过滤逻辑
4. 添加统计信息显示

### 🎮 交互逻辑

#### 显示条件
- ✅ **搜索国家时**: 显示机场+航司双标签
- ❌ **搜索城市时**: 只显示机场标签
- ❌ **搜索机场代码时**: 只显示机场标签

#### 切换行为
```javascript
// 伪代码逻辑
if (searchType === 'country') {
  showTabs(['机场搜索', '航空公司']);
} else {
  showTabs(['机场搜索']);
}
```

### 🚀 优势特性

#### 1. **无侵入性**
- 不改变现有界面布局
- 不影响现有功能
- 向后完全兼容

#### 2. **智能显示**
- 只在合适场景显示
- 自动适配搜索类型
- 保持界面简洁

#### 3. **丰富信息**
- 航空公司代码
- 中英文名称
- 公司类型标识
- 联盟信息
- 国家归属

### 📈 用户价值

#### 对物流从业者
- 🎯 **快速查找承运人**: 根据目的地国家查找可用航空公司
- 📊 **类型识别**: 区分全服务、低成本、货运航司
- 🌐 **联盟信息**: 了解航空联盟关系，便于中转

#### 对报价业务
- ✈️ **承运人选择**: 为客户提供多种航司选择
- 💰 **成本优化**: LCC vs FSC 的成本对比
- 📋 **专业展示**: 提升报价的专业度

### ⚠️ 注意事项

#### 1. **性能考虑**
- 航司数据相对较小，不会影响性能
- 延迟加载，只在需要时获取数据

#### 2. **数据维护**
- 定期更新航空公司信息
- 新航司成立、老航司关闭的维护

#### 3. **界面一致性**
- 保持与机场搜索相同的视觉风格
- 统一的颜色系统和交互模式

## 🎯 结论

这个功能具有以下特点:
- ✅ **技术简单**: 复用现有搜索框架
- ✅ **价值明确**: 提升用户体验和专业度
- ✅ **风险很低**: 不影响现有功能
- ✅ **扩展性好**: 为未来功能奠定基础

**建议**: 值得实施，可以显著提升系统的专业性和实用性。
